@(oauthConfigJson: String)
@CpauthPage("Login to Carbon Portal", "Please sign in", "login"){
	<script src="https://static.icos-cp.eu/constant/cookies.js/1.2.1/cookies.min.js"></script>
	<script src="https://static.icos-cp.eu/constant/jquery/plugins/autocomplete/1.11.4/jquery-ui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://static.icos-cp.eu/constant/jquery/plugins/autocomplete/1.11.4/jquery-ui.min.css">
	<link rel="stylesheet" type="text/css" href="https://static.icos-cp.eu/constant/jquery/plugins/autocomplete/1.11.4/jquery-ui.structure.min.css">
	<link rel="stylesheet" type="text/css" href="https://static.icos-cp.eu/constant/jquery/plugins/autocomplete/1.11.4/jquery-ui.theme.min.css">

	<script type="text/javascript">
		document.oauthConfig = @Html(oauthConfigJson);
	</script>
}{
	<h4>
		<span class="label label-info">Carbon Portal uses cookies to handle your login session</span>
		<br/>
		<span class="label label-info">By using our services, you agree to our use of cookies</span>
	</h4>

	<br/>

	<div class="row"><div class="col-md-12">

		<ul class="nav nav-tabs" role="tablist">

			<li role="presentation" class="active col-xs-12 col-sm-2">
				<a href="#swamid" id="swamid-link" aria-controls="swamid" role="tab" data-toggle="tab">
					University sign in
				</a>
			</li>

			<li role="presentation" class="col-xs-12 col-sm-2">
				<a href="#plain" id="plain-link" aria-controls="plain" role="tab" data-toggle="tab">
					Password sign in
				</a>
			</li>
			
			<li role="presentation" class="col-xs-12 col-sm-2">
				<a href="#social-sign-in" id="social-sign-in-link" aria-controls="social-sign-in" role="tab" data-toggle="tab">
					Social sign in
				</a>
			</li>

			<li role="presentation" class="col-xs-12 col-sm-2">
				<a href="#create" id="create-link" aria-controls="create" role="tab" data-toggle="tab">
					Create account / forgot password
				</a>
			</li>

			<li class="col-sm-8"></li>
		</ul>

	</div></div> <!-- col, row -->

	<div class="row"><div class="col-md-12">
		<div class="tab-content">

			<div role="tabpanel" class="tab-pane active" id="swamid">
				<div class="panel panel-default">
					<div class="panel-body">

						<form id="saml-login" action="/saml/login">
							<input id="targetUrl" class="targetUrlRelay" type="hidden" name="targetUrl">

							<div class="form-group">
								<label for="idpUrlInput">Select university:</label><br>
								<input type="text" id="idpUrlInput" class="form-control" style="width:50em;" />
							</div>

							<button id="signonBtn" class="btn btn-default">Login!</button>
						</form>

					</div>
				</div>
			</div>

			<div role="tabpanel" class="tab-pane" id="plain">
				<div class="panel panel-default">
					<div class="panel-body">

						<form id="plain-login">
							<input class="targetUrlRelay" type="hidden" name="targetUrl">

							<div class="form-group">
								<label for="mail">Email:</label>
								<input id="mail" name="mail" type="email" class="form-control" placeholder="Enter email" />
							</div>

							<div class="form-group">
								<label for="password">Password:</label>
								<input id="password" name="password" type="password" class="form-control" placeholder="Password" />
							</div>

							<button type="button" class="btn btn-default" id="passwordLoginButton">Login!</button>

						</form>
						
					</div>
				</div>
			</div>
			
			<div role="tabpanel" class="tab-pane" id="social-sign-in">
				<div class="panel panel-default">
					<div class="panel-body">

						<div style="padding-bottom: 2rem">
							<a type="button" id="facebookLoginButton">
								<img src="/images/facebook_login.png" style="height:45px" />
							</a>
						</div>

						<div style="padding-bottom: 2rem">
							<a type="button" id="orcididLoginButton">
								<img src="/images/orcidid_login.png" style="height:36px" />
							</a>
							<div style="border: 1px dotted #ccc">
								Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eget suscipit justo, eget pretium nisi. Nunc eleifend congue ex. In ac nisi et justo lacinia condimentum ut ac nulla. Fusce.
							</div>
						</div>

					</div>
				</div>
			</div>

			<div role="tabpanel" class="tab-pane" id="create">
				<div class="panel panel-default">
					<div class="panel-body">

						<form id="create-account">

							<div class="form-group">
								<label for="newmail">Email:</label>
								<input id="newmail" name="newmail" type="email" class="form-control" placeholder="Enter email" />
							</div>

							<button type="button" class="btn btn-default" id="choosePasswordButton">Let me choose a password!</button>

						</form>

					</div>
				</div>
			</div>

		</div>
	</div></div> <!-- col, row -->

	<div class="row"><div class="col-md-12">
		<div class="panel panel-default">
			<div class="panel-body">
				<p>When you sign in here, you get access to the services at Carbon Portal for which you are authorized, and to your personal account settings.</p>
				<p>Your login will be active for about one day on the same device where you logged in.</p>
				<p>Data search and download are of course accessible for everybody and can be performed without signing in, but after signing in you need to set your acceptance of the ICOS data license only once! More info on the ICOS data license: <a href="https://www.icos-cp.eu/license" target="_blank">https://www.icos-cp.eu/license</a>.</p>
				<p>You can sign in with your institutional login through eduGAIN (preferred) or, if that does not work, through the social or password login. For the password login you should first create an account here, using the tab on the right. Please be aware that the email address with which you sign in will be the user id that identifies you to our services.</p>
				<p>P.S. At the moment the Carbon Portal login will not work for <a href="https://docs.icos-cp.eu/" target="_blank">Alfresco DMS</a>, we are working on that.</p>
			</div>
		</div>
	</div></div> <!-- col, row -->
}

